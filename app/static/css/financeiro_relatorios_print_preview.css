/* Somente “margem de página” para o preview */
body{
  margin:0;
  background: var(--c-bg);
  padding:20px;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

.page{
  max-width: 980px;
  margin: 0 auto;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: var(--shadow-soft-2);
}

/* FIXES do PREVIEW (isolado) */

.fr-print__head{ display:flex; }
.fr-print__brand{
  display:flex;
  visibility: visible;
  opacity: 1;
}

/* No preview só temos IMG, então forçamos o IMG a aparecer. */
.fr-print__chartwrap img,
#frPrintChartImg{
  display:block;
  visibility: visible;
  opacity: 1;
  width:100%;
  height:100%;
  max-height:320px;
  object-fit:contain;
}

.fr-print__chart { padding: 14px 16px 0 16px; }

.fr-print__sectiontitle{ margin-bottom: 10px; }

/* PRINT: remover "aspecto de foto" */
@media print{
  html, body{
    background: #fff !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .page{
    max-width: none !important;
    margin: 0 !important;
    border-radius: 0 !important;
    overflow: visible !important;
    box-shadow: none !important;
  }

  .fr-print{
    width: 100% !important;
    max-width: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }
}

@page{
  margin: 12mm;
}

/* Barra superior do Preview (somente tela) */
.fr-prevbar{
  position: sticky;
  top: 0;
  z-index: 50;
  padding: 12px 14px;
  margin: 0 auto 14px auto;
  max-width: 980px;

  border: 1px solid var(--fin-border);
  border-radius: 14px;
  background: color-mix(in srgb, var(--fin-panel-bg) 92%, #000);

  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

.fr-prevbar__title{
  font-weight: 1000;
  color: var(--fin-text);
  font-size: 12px;
  line-height: 1.2;
}

.fr-prevbar__hint{
  margin-top: 4px;
  color: var(--fin-muted);
  font-weight: 800;
  font-size: 11px;
  line-height: 1.2;
}

.fr-prevbar__actions{
  display:flex;
  gap: 10px;
  align-items:center;
  flex: 0 0 auto;
}

@media (max-width: 720px){
  .fr-prevbar{
    flex-direction: column;
    align-items: stretch;
  }
  .fr-prevbar__actions{
    justify-content: stretch;
  }
  .fr-prevbar__actions .fin-btn{
    width: 100%;
    justify-content: center;
  }
}

@media print{
  .fr-prevbar{ display:none !important; }
}

@media print{
  .fr-print__head{
    display: table !important;
    width: 100% !important;
    table-layout: fixed !important;
  }

  .fr-print__brand{
    display: table-cell !important;
    vertical-align: top !important;
    width: 62% !important;
  }

  .fr-print__meta{
    display: table-cell !important;
    vertical-align: top !important;
    width: 38% !important;
    text-align: right !important;
    white-space: nowrap !important;
  }

  .fr-print__logo{
    max-width: 180px !important;
    height: auto !important;
  }
}